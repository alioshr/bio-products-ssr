{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/Dev/Desktop/bio-products-ssr/UI/Swipeable/Swipeable.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  ::after {\\n    left: 60%;\\n    transform: translate(-50%, -50%) rotateZ(-45deg);\\n  }\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  display: none;\\n  \", \"\\n  ::after {\\n    left: 40%;\\n    transform: translate(-50%, -50%) rotateZ(135deg);\\n  }\\n  @media (min-width: 40rem) and (min-height: 28rem) {\\n    display: block;\\n  }\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  border-radius: 50%;\\n  cursor: pointer;\\n  background-color: \", \";\\n  width: \", \"rem;\\n  height: \", \"rem;\\n  \", \";\\n  top: \", \"%;\\n  transform: translateY(-\", \"%);\\n\\n  ::after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    width: 35%;\\n    height: 35%;\\n    top: 50%;\\n    border-left: 5px solid \", \";\\n    border-top: 5px solid \", \";\\n    transition: all 100ms ease-in;\\n  }\\n\\n  &:hover {\\n    ::after {\\n      border-left: 5px solid \", \";\\n      border-top: 5px solid \", \";\\n    }\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n      background-color: \", \";\\n    \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n      width: \", \"px;\\n    \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 0.2rem;\\n  border-radius: 50%;\\n  \", \"\\n  background-color: \", \";\\n  \", \"\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 5%;\\n  position: relative;\\n  bottom: 0;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: transparent;\\n  margin: .5rem 0;\\n  background-color: red;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  min-width: 100%;\\n  height: 100%;\\n  transition: all 400ms ease-out;\\n  box-sizing: border-box;\\n  object-fit: cover;\\n  position: relative;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: \", \";\\n  height: \", \";\\n  background-color: #c4c4c4;\\n  display: flex;\\n  justify-content: flex-start;\\n  overflow: hidden;\\n  position: relative;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nexport var Gallery = function Gallery(_ref) {\n  _s();\n\n  var items = _ref.items,\n      childProps = _ref.childProps,\n      rowWidth = _ref.rowWidth,\n      rowHeight = _ref.rowHeight,\n      markerActiveColor = _ref.markerActiveColor,\n      markerInactiveColor = _ref.markerInactiveColor,\n      withNav = _ref.withNav,\n      navColor = _ref.navColor,\n      navInnerColor = _ref.navInnerColor,\n      navSize = _ref.navSize,\n      navInnerHoverColor = _ref.navInnerHoverColor,\n      navPosX = _ref.navPosX,\n      navPosY = _ref.navPosY;\n\n  //dummy state to force an extra render in order to populate the elRefs\n  var _useState = useState(false),\n      forceRender = _useState[0],\n      setForceRender = _useState[1]; //activeMarker is necessary as refs do not render as state to track the marker position\n\n\n  var _useState2 = useState(0),\n      activeMarker = _useState2[0],\n      setActiveMarker = _useState2[1];\n\n  var activeBox = useRef(0);\n  var dragStartXRef = useRef(0);\n  var leftRef = useRef(0);\n  var draggedRef = React.useRef(false);\n  var elRefs = useRef([]);\n  var markersRef = useRef();\n  useEffect(function () {\n    window.addEventListener(\"mouseup\", onDragEndMouse);\n    window.addEventListener(\"touchend\", onDragEndTouch);\n    return function () {\n      window.removeEventListener(\"mouseup\", onDragEndMouse);\n      window.removeEventListener(\"touchend\", onDragEndTouch);\n    };\n  }, []);\n  useEffect(function () {\n    if (elRefs.current.length !== items.length) {\n      setForceRender(true);\n      elRefs.current = Array(items.length).fill().map(function (_, i) {\n        return elRefs.current[i] || /*#__PURE__*/React.createRef();\n      });\n    }\n  }, []); //mouse API\n\n  function onDragStartMouse(e) {\n    onDragStart(e.clientX);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    requestAnimationFrame(updatePosition);\n  }\n\n  function onMouseMove(e) {\n    var left = e.clientX - dragStartXRef.current;\n    if (left < 0 && activeBox.current === 0) leftRef.current = left;\n    if (activeBox.current > 0 && activeBox.current < elRefs.current.length - 1) leftRef.current = left;\n    if (left > 0 && activeBox.current === elRefs.current.length - 1) leftRef.current = left;\n  }\n\n  function onDragEndMouse() {\n    window.removeEventListener(\"mousemove\", onMouseMove);\n    onDragEnd();\n  } //touch API\n\n\n  function onDragStartTouch(e) {\n    var touch = e.targetTouches[0];\n    onDragStart(touch.clientX);\n    window.addEventListener(\"touchmove\", onTouchMove);\n    requestAnimationFrame(updatePosition);\n  }\n\n  function onTouchMove(e) {\n    var touch = e.targetTouches[0];\n    var left = touch.clientX - dragStartXRef.current;\n    if (left < 0 && activeBox.current === 0) leftRef.current = left;\n    if (activeBox.current > 0 && activeBox.current < elRefs.current.length - 1) leftRef.current = left;\n    if (left > 0 && activeBox.current === elRefs.current.length - 1) leftRef.current = left;\n  }\n\n  function onDragEndTouch() {\n    window.removeEventListener(\"touchmove\", onTouchMove);\n    onDragEnd();\n  } //for both APIs below\n  //gives the X position\n\n\n  function onDragStart(clientX) {\n    draggedRef.current = true;\n    dragStartXRef.current = clientX;\n  }\n\n  function updatePosition() {\n    if (draggedRef.current) {\n      requestAnimationFrame(updatePosition);\n    }\n\n    var boxWidth = -elRefs.current[0].current.offsetWidth;\n    elRefs.current.map(function (el) {\n      return el.current.style.transform = \"translateX(\".concat(leftRef.current + boxWidth * activeBox.current, \"px)\");\n    });\n  } //determines what happens at the end of the animation\n\n\n  function onDragEnd() {\n    if (draggedRef.current) {\n      draggedRef.current = false;\n      var boxWidth = -elRefs.current[0].current.offsetWidth;\n\n      if (leftRef.current < boxWidth / 2) {\n        setActiveMarker(function (state) {\n          return state + 1;\n        });\n        activeBox.current = activeBox.current + 1;\n      }\n\n      if (leftRef.current > boxWidth * -1 / 2) {\n        setActiveMarker(function (state) {\n          return state - 1;\n        });\n        activeBox.current = activeBox.current - 1;\n      }\n    }\n\n    leftRef.current = 0;\n  }\n\n  var activeBoxHandler = function activeBoxHandler(index) {\n    setActiveMarker(index);\n    activeBox.current = index;\n    requestAnimationFrame(updatePosition);\n  };\n\n  var navButtonsLogicHandler = function navButtonsLogicHandler(mode) {\n    if (mode === \"add\" && activeBox.current < items.length - 1) {\n      setActiveMarker(function (state) {\n        return state + 1;\n      });\n      activeBox.current = activeBox.current + 1;\n      requestAnimationFrame(updatePosition);\n    }\n\n    if (mode === \"subtract\" && activeBox.current > 0) {\n      setActiveMarker(function (state) {\n        return state - 1;\n      });\n      activeBox.current = activeBox.current - 1;\n      requestAnimationFrame(updatePosition);\n    }\n  };\n\n  var boxes = items.map(function (item, i) {\n    return __jsx(Box, _extends({\n      src: item,\n      onDragStart: function onDragStart(e) {\n        return e.preventDefault();\n      }\n    }, childProps, {\n      key: i,\n      ref: elRefs.current[i],\n      onMouseDown: onDragStartMouse,\n      onTouchStart: onDragStartTouch,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }\n    }));\n  });\n  var dottedMarkers = Array(items.length).fill().map(function (_, i) {\n    var _markersRef$current;\n\n    return __jsx(Marker, {\n      onClick: function onClick() {\n        return activeBoxHandler(i);\n      },\n      dims: (_markersRef$current = markersRef.current) === null || _markersRef$current === void 0 ? void 0 : _markersRef$current.offsetHeight,\n      active: activeMarker === i,\n      activeColor: markerActiveColor,\n      inactiveColor: markerInactiveColor,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }\n    });\n  });\n  return __jsx(Wrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    rowHeight: rowHeight,\n    rowWidth: rowWidth,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, boxes), __jsx(Markers, {\n    ref: markersRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }), withNav && __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, __jsx(ChevronLeft, {\n    onClick: function onClick() {\n      return navButtonsLogicHandler(\"subtract\");\n    },\n    bkgColor: navColor,\n    chevronColor: navInnerColor,\n    chevronHoverColor: navInnerHoverColor,\n    size: navSize,\n    posX: navPosX,\n    posY: navPosY,\n    alignment: \"left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }), __jsx(ChevronRight, {\n    onClick: function onClick() {\n      return navButtonsLogicHandler(\"add\");\n    },\n    bkgColor: navColor,\n    chevronColor: navInnerColor,\n    chevronHoverColor: navInnerHoverColor,\n    size: navSize,\n    posX: navPosX,\n    posY: navPosY,\n    alignment: \"right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  })));\n};\n\n_s(Gallery, \"ARuL+A5HYE5iSElN20rngJmTd4M=\");\n\n_c = Gallery;\nvar Wrapper = styled.div(_templateObject());\n_c2 = Wrapper;\nvar Row = styled.div(_templateObject2(), function (_ref2) {\n  var rowWidth = _ref2.rowWidth;\n  return rowWidth ? rowWidth : \"100%\";\n}, function (_ref3) {\n  var rowHeight = _ref3.rowHeight;\n  return rowHeight ? rowHeight : \"100%\";\n});\n_c3 = Row;\nvar Box = styled.img(_templateObject3());\n_c4 = Box;\nvar Markers = styled.div(_templateObject4());\n_c5 = Markers;\nvar Marker = styled.div(_templateObject5(), function (_ref4) {\n  var dims = _ref4.dims;\n  return dims && css(_templateObject6(), dims, dims);\n}, function (_ref5) {\n  var inactiveColor = _ref5.inactiveColor;\n  return inactiveColor ? inactiveColor : \"#c4c4c4\";\n}, function (_ref6) {\n  var active = _ref6.active;\n  return active && css(_templateObject7(), function (_ref7) {\n    var activeColor = _ref7.activeColor;\n    return activeColor ? activeColor : \"red\";\n  });\n});\n_c6 = Marker;\n\nvar navButtonsMixin = function navButtonsMixin() {\n  var bkgColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"black\";\n  var chevronColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"white\";\n  var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n  var alignment = arguments.length > 3 ? arguments[3] : undefined;\n  var posX = arguments.length > 4 ? arguments[4] : undefined;\n  var posY = arguments.length > 5 ? arguments[5] : undefined;\n  var chevronHoverColor = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : \"orange\";\n  return css(_templateObject8(), bkgColor, size, size, alignment === \"left\" ? \" left: \".concat(posX, \"px;\") : alignment === \"right\" ? \"right: \".concat(posX, \"px;\") : null, posY ? posY : 50, posY ? posY : 50, chevronColor, chevronColor, chevronHoverColor, chevronHoverColor);\n};\n\nvar ChevronRight = styled.div(_templateObject9(), function (_ref8) {\n  var bkgColor = _ref8.bkgColor,\n      chevronColor = _ref8.chevronColor,\n      size = _ref8.size,\n      posX = _ref8.posX,\n      posY = _ref8.posY,\n      alignment = _ref8.alignment,\n      chevronHoverColor = _ref8.chevronHoverColor;\n  return navButtonsMixin(bkgColor, chevronColor, size, alignment, posX, posY, chevronHoverColor);\n});\n_c7 = ChevronRight;\nvar ChevronLeft = styled(ChevronRight)(_templateObject10());\n_c8 = ChevronLeft;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Gallery\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Row\");\n$RefreshReg$(_c4, \"Box\");\n$RefreshReg$(_c5, \"Markers\");\n$RefreshReg$(_c6, \"Marker\");\n$RefreshReg$(_c7, \"ChevronRight\");\n$RefreshReg$(_c8, \"ChevronLeft\");","map":{"version":3,"sources":["/Users/Dev/Desktop/bio-products-ssr/UI/Swipeable/Swipeable.js"],"names":["React","useEffect","useRef","useState","styled","css","Gallery","items","childProps","rowWidth","rowHeight","markerActiveColor","markerInactiveColor","withNav","navColor","navInnerColor","navSize","navInnerHoverColor","navPosX","navPosY","forceRender","setForceRender","activeMarker","setActiveMarker","activeBox","dragStartXRef","leftRef","draggedRef","elRefs","markersRef","window","addEventListener","onDragEndMouse","onDragEndTouch","removeEventListener","current","length","Array","fill","map","_","i","createRef","onDragStartMouse","e","onDragStart","clientX","onMouseMove","requestAnimationFrame","updatePosition","left","onDragEnd","onDragStartTouch","touch","targetTouches","onTouchMove","boxWidth","offsetWidth","el","style","transform","state","activeBoxHandler","index","navButtonsLogicHandler","mode","boxes","item","preventDefault","dottedMarkers","offsetHeight","Wrapper","div","Row","Box","img","Markers","Marker","dims","inactiveColor","active","activeColor","navButtonsMixin","bkgColor","chevronColor","size","alignment","posX","posY","chevronHoverColor","ChevronRight","ChevronLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nexport const Gallery = ({\n  items,\n  childProps,\n  rowWidth,\n  rowHeight,\n  markerActiveColor,\n  markerInactiveColor,\n  withNav,\n  navColor,\n  navInnerColor,\n  navSize,\n  navInnerHoverColor,\n  navPosX,\n  navPosY\n}) => {\n  //dummy state to force an extra render in order to populate the elRefs\n  const [forceRender, setForceRender] = useState(false);\n  //activeMarker is necessary as refs do not render as state to track the marker position\n  const [activeMarker, setActiveMarker] = useState(0);\n  const activeBox = useRef(0);\n  const dragStartXRef = useRef(0);\n  const leftRef = useRef(0);\n  const draggedRef = React.useRef(false);\n  const elRefs = useRef([]);\n  const markersRef = useRef();\n\n  useEffect(() => {\n    window.addEventListener(\"mouseup\", onDragEndMouse);\n    window.addEventListener(\"touchend\", onDragEndTouch);\n    return () => {\n      window.removeEventListener(\"mouseup\", onDragEndMouse);\n      window.removeEventListener(\"touchend\", onDragEndTouch);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (elRefs.current.length !== items.length) {\n      setForceRender(true);\n      elRefs.current = Array(items.length)\n        .fill()\n        .map((_, i) => elRefs.current[i] || React.createRef());\n    }\n  }, []);\n\n  //mouse API\n  function onDragStartMouse(e) {\n    onDragStart(e.clientX);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    requestAnimationFrame(updatePosition);\n  }\n\n  function onMouseMove(e) {\n    const left = e.clientX - dragStartXRef.current;\n    if (left < 0 && activeBox.current === 0) leftRef.current = left;\n    if (activeBox.current > 0 && activeBox.current < elRefs.current.length - 1)\n      leftRef.current = left;\n    if (left > 0 && activeBox.current === elRefs.current.length - 1)\n      leftRef.current = left;\n  }\n\n  function onDragEndMouse() {\n    window.removeEventListener(\"mousemove\", onMouseMove);\n    onDragEnd();\n  }\n\n  //touch API\n  function onDragStartTouch(e) {\n    const touch = e.targetTouches[0];\n    onDragStart(touch.clientX);\n    window.addEventListener(\"touchmove\", onTouchMove);\n    requestAnimationFrame(updatePosition);\n  }\n\n  function onTouchMove(e) {\n    const touch = e.targetTouches[0];\n    const left = touch.clientX - dragStartXRef.current;\n    if (left < 0 && activeBox.current === 0) leftRef.current = left;\n    if (activeBox.current > 0 && activeBox.current < elRefs.current.length - 1)\n      leftRef.current = left;\n    if (left > 0 && activeBox.current === elRefs.current.length - 1)\n      leftRef.current = left;\n  }\n\n  function onDragEndTouch() {\n    window.removeEventListener(\"touchmove\", onTouchMove);\n    onDragEnd();\n  }\n\n  //for both APIs below\n  //gives the X position\n  function onDragStart(clientX) {\n    draggedRef.current = true;\n    dragStartXRef.current = clientX;\n  }\n\n  function updatePosition() {\n    if (draggedRef.current) {\n      requestAnimationFrame(updatePosition);\n    }\n    let boxWidth = -elRefs.current[0].current.offsetWidth;\n    elRefs.current.map(\n      (el) =>\n        (el.current.style.transform = `translateX(${\n          leftRef.current + boxWidth * activeBox.current\n        }px)`)\n    );\n  }\n\n  //determines what happens at the end of the animation\n  function onDragEnd() {\n    if (draggedRef.current) {\n      draggedRef.current = false;\n      const boxWidth = -elRefs.current[0].current.offsetWidth;\n      if (leftRef.current < boxWidth / 2) {\n        setActiveMarker((state) => state + 1);\n        activeBox.current = activeBox.current + 1;\n      }\n      if (leftRef.current > (boxWidth * -1) / 2) {\n        setActiveMarker((state) => state - 1);\n        activeBox.current = activeBox.current - 1;\n      }\n    }\n    leftRef.current = 0;\n  }\n\n  const activeBoxHandler = (index) => {\n    setActiveMarker(index);\n    activeBox.current = index;\n    requestAnimationFrame(updatePosition);\n  };\n\n  const navButtonsLogicHandler = (mode) => {\n    if (mode === \"add\" && activeBox.current < items.length - 1) {\n      setActiveMarker((state) => state + 1);\n      activeBox.current = activeBox.current + 1;\n      requestAnimationFrame(updatePosition);\n    }\n\n    if (mode === \"subtract\" && activeBox.current > 0) {\n      setActiveMarker((state) => state - 1);\n      activeBox.current = activeBox.current - 1;\n      requestAnimationFrame(updatePosition);\n    }\n  };\n\n  const boxes = items.map((item, i) => (\n    <Box\n      src={item}\n      onDragStart={(e) => e.preventDefault()}\n      {...childProps}\n      key={i}\n      ref={elRefs.current[i]}\n      onMouseDown={onDragStartMouse}\n      onTouchStart={onDragStartTouch}\n    />\n  ));\n\n  const dottedMarkers = Array(items.length)\n    .fill()\n    .map((_, i) => (\n      <Marker\n        onClick={() => activeBoxHandler(i)}\n        dims={markersRef.current?.offsetHeight}\n        active={activeMarker === i}\n        activeColor={markerActiveColor}\n        inactiveColor={markerInactiveColor}\n      />\n    ));\n  return (\n    <Wrapper>\n      <Row rowHeight={rowHeight} rowWidth={rowWidth}>\n        {boxes}\n      </Row>\n      <Markers ref={markersRef}></Markers>\n      {withNav && (\n        <React.Fragment>\n          <ChevronLeft\n            onClick={() => navButtonsLogicHandler(\"subtract\")}\n            bkgColor={navColor}\n            chevronColor={navInnerColor}\n            chevronHoverColor={navInnerHoverColor}\n            size={navSize}\n            posX={navPosX}\n            posY={navPosY}\n            alignment=\"left\"\n          />\n          <ChevronRight\n            onClick={() => navButtonsLogicHandler(\"add\")}\n            bkgColor={navColor}\n            chevronColor={navInnerColor}\n            chevronHoverColor={navInnerHoverColor}\n            size={navSize}\n            posX={navPosX}\n            posY={navPosY}\n            alignment=\"right\"\n          />\n        </React.Fragment>\n      )}\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Row = styled.div`\n  width: ${({ rowWidth }) => (rowWidth ? rowWidth : \"100%\")};\n  height: ${({ rowHeight }) => (rowHeight ? rowHeight : \"100%\")};\n  background-color: #c4c4c4;\n  display: flex;\n  justify-content: flex-start;\n  overflow: hidden;\n  position: relative;\n`;\n\nconst Box = styled.img`\n  min-width: 100%;\n  height: 100%;\n  transition: all 400ms ease-out;\n  box-sizing: border-box;\n  object-fit: cover;\n  position: relative;\n`;\n\nconst Markers = styled.div`\n  width: 100%;\n  height: 5%;\n  position: relative;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: transparent;\n  margin: .5rem 0;\n  background-color: red;\n`;\n\nconst Marker = styled.div`\n  margin: 0.2rem;\n  border-radius: 50%;\n  ${({ dims }) =>\n    dims &&\n    css`\n      height: ${dims}px;\n      width: ${dims}px;\n    `}\n  background-color: ${({ inactiveColor }) =>\n    inactiveColor ? inactiveColor : \"#c4c4c4\"};\n  ${({ active }) =>\n    active &&\n    css`\n      background-color: ${({ activeColor }) =>\n        activeColor ? activeColor : \"red\"};\n    `}\n`;\n\nconst navButtonsMixin = (\n  bkgColor = \"black\",\n  chevronColor = \"white\",\n  size = 5,\n  alignment,\n  posX,\n  posY,\n  chevronHoverColor = \"orange\"\n) => css`\n  position: absolute;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: ${bkgColor};\n  width: ${size}rem;\n  height: ${size}rem;\n  ${alignment === \"left\"\n    ? ` left: ${posX}px;`\n    : alignment === \"right\"\n    ? `right: ${posX}px;`\n    : null};\n  top: ${posY ? posY : 50}%;\n  transform: translateY(-${posY ? posY : 50}%);\n\n  ::after {\n    content: \"\";\n    position: absolute;\n    width: 35%;\n    height: 35%;\n    top: 50%;\n    border-left: 5px solid ${chevronColor};\n    border-top: 5px solid ${chevronColor};\n    transition: all 100ms ease-in;\n  }\n\n  &:hover {\n    ::after {\n      border-left: 5px solid ${chevronHoverColor};\n      border-top: 5px solid ${chevronHoverColor};\n    }\n  }\n`;\n\nconst ChevronRight = styled.div`\n  display: none;\n  ${({\n    bkgColor,\n    chevronColor,\n    size,\n    posX,\n    posY,\n    alignment,\n    chevronHoverColor,\n  }) =>\n    navButtonsMixin(\n      bkgColor,\n      chevronColor,\n      size,\n      alignment,\n      posX,\n      posY,\n      chevronHoverColor\n    )}\n  ::after {\n    left: 40%;\n    transform: translate(-50%, -50%) rotateZ(135deg);\n  }\n  @media (min-width: 40rem) and (min-height: 28rem) {\n    display: block;\n  }\n`;\n\nconst ChevronLeft = styled(ChevronRight)`\n  ::after {\n    left: 60%;\n    transform: translate(-50%, -50%) rotateZ(-45deg);\n  }\n`;"]},"metadata":{},"sourceType":"module"}